{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace media=Neos\Media\ViewHelpers}
<f:if condition="{image}">
    <f:then>
        <f:if condition="{hideInOverview}">
            <f:then>
                <div data-toggle="lightbox" data-gallery="{node.parent.identifier}" data-title="{title}" data-footer="{iteration.cycle}/{count} {caption}" data-remote="{media:uri.image(image:image, maximumWidth:lightbox.maximumWidth, maximumHeight:lightbox.maximumHeight, allowCropping:lightbox.allowCropping, allowUpScaling:lightbox.allowUpScaling)}"></div>
            </f:then>
            <f:else>
                <a href="{media:uri.image(image:image, maximumWidth:lightbox.maximumWidth, maximumHeight:lightbox.maximumHeight, allowCropping:lightbox.allowCropping, allowUpScaling:lightbox.allowUpScaling)}" data-toggle="lightbox" data-gallery="{node.parent.identifier}" class="col-sm-{node.parent.parent.properties.columns} thumbnail" style="margin-bottom: {node.parent.parent.properties.marginBottom}px;" data-title="{title}" data-footer="{iteration.cycle}/{count} {caption}">
                    <media:image image="{image}" alt="{alternativeText}" title="{title}" maximumWidth="{maximumWidth}" maximumHeight="{maximumHeight}" allowCropping="{allowCropping}" allowUpScaling="{allowUpScaling}" class="{imageClass}" />
                </a>
            </f:else>
        </f:if>
    </f:then>
    <f:else>
        <f:security.ifAccess privilegeTarget="TYPO3_Neos_Backend_GeneralAccess">
            <f:if condition="{node.context.workspace.name} != 'live'">
                <img src="{f:uri.resource(package: 'TYPO3.Neos', path: 'Images/dummy-image.svg')}" title="Dummy image" alt="Dummy image" class="neos-handle" />
            </f:if>
        </f:security.ifAccess>
    </f:else>
</f:if>